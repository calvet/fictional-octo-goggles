<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sintgram - Seguidores Gr√°tis Instagram</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@23.0.4/build/css/intlTelInput.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 16px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            max-width: 450px;
            width: 100%;
            padding: 40px 30px;
            position: relative;
        }

        .language-selector {
            position: absolute;
            top: 12px;
            left: 12px;
            z-index: 100;
        }

        .language-selector select {
            padding: 4px 8px;
            border: 1px solid #e0e0e0;
            border-radius: 6px;
            background: white;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
            outline: none;
            color: #666;
        }

        .language-selector select:hover {
            border-color: #667eea;
        }

        .language-selector select:focus {
            border-color: #667eea;
            box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);
        }

        .back-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background: #f5f5f5;
            border: none;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            cursor: pointer;
            display: none;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 18px;
        }

        .back-btn.show {
            display: flex;
        }

        .back-btn:hover {
            background: #e0e0e0;
            transform: scale(1.1);
        }

        .logo {
            text-align: center;
            margin-bottom: 30px;
        }

        .logo h1 {
            font-size: 32px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
        }

        .logo p {
            color: #666;
            font-size: 14px;
            margin-top: 5px;
        }

        .step {
            display: none;
        }

        .step.active {
            display: block;
            animation: fadeIn 0.3s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
        }

        input[type="text"],
        input[type="email"] {
            width: 100%;
            padding: 14px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s;
            font-family: inherit;
        }

        input[type="text"]:focus,
        input[type="email"]:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .phone-input-wrapper {
            width: 100%;
        }

        .phone-input-wrapper .iti {
            width: 100%;
        }

        .phone-input-wrapper .iti__tel-input {
            width: 100%;
            padding: 14px 16px 14px 52px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 15px;
            transition: all 0.3s;
            font-family: inherit;
        }

        .phone-input-wrapper .iti__tel-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .btn {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-primary:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #f5f5f5;
            color: #333;
            margin-top: 10px;
        }

        .btn-secondary:hover {
            background: #e0e0e0;
        }

        .profile-card {
            text-align: center;
            padding: 20px;
            background: #f9f9f9;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .profile-pic {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin: 0 auto 15px;
            border: 3px solid #667eea;
        }

        .profile-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
        }

        .verified-badge {
            width: 18px;
            height: 18px;
        }

        .profile-username {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .profile-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 15px;
        }

        .stat {
            text-align: center;
        }

        .stat-value {
            font-weight: 700;
            font-size: 16px;
            color: #333;
        }

        .stat-label {
            font-size: 12px;
            color: #999;
            text-transform: uppercase;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff4444;
            color: white;
            padding: 16px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }

        .toast.show {
            display: block;
        }

        .toast.success {
            background: #00C851;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .loading {
            display: inline-block;
            width: 16px;
            height: 16px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-top-color: white;
            border-radius: 50%;
            animation: spin 0.6s linear infinite;
            margin-left: 8px;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .or-divider {
            text-align: center;
            margin: 15px 0;
            color: #999;
            font-size: 14px;
            position: relative;
        }

        .or-divider::before,
        .or-divider::after {
            content: '';
            position: absolute;
            top: 50%;
            width: 40%;
            height: 1px;
            background: #e0e0e0;
        }

        .or-divider::before {
            left: 0;
        }

        .or-divider::after {
            right: 0;
        }

        .success-message {
            text-align: center;
            padding: 30px 20px;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            background: linear-gradient(135deg, #00C851 0%, #007E33 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: scaleIn 0.5s ease-out;
        }

        .success-icon svg {
            width: 50px;
            height: 50px;
            fill: white;
        }

        @keyframes scaleIn {
            from {
                transform: scale(0);
                opacity: 0;
            }

            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .success-title {
            font-size: 24px;
            font-weight: 700;
            color: #333;
            margin-bottom: 10px;
        }

        .success-text {
            font-size: 15px;
            color: #666;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .btn-new-request {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-family: inherit;
        }

        .btn-new-request:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="language-selector">
            <select id="languageSelect">
                <option value="ar">üá∏üá¶ AR</option>
                <option value="bn">üáßüá© BN</option>
                <option value="de">üá©üá™ DE</option>
                <option value="en">üá¨üáß EN</option>
                <option value="es">üá™üá∏ ES</option>
                <option value="fr">üá´üá∑ FR</option>
                <option value="hi">üáÆüá≥ HI</option>
                <option value="pt">üáµüáπ PT</option>
                <option value="ru">üá∑üá∫ RU</option>
                <option value="zh">üá®üá≥ ZH</option>
            </select>
        </div>
        <button class="back-btn" id="backBtn" data-i18n-title="back_title" title="Voltar">‚Üê</button>

        <div class="logo">
            <h1>Sintgram</h1>
            <p>Ganhe seguidores gr√°tis no Instagram</p>
        </div>

        <!-- Step 1: Instagram Username -->
        <div class="step active" id="step1">
            <div class="input-group">
                <label for="instagram" data-i18n="instagram_label">Seu @ do Instagram</label>
                <input type="text" id="instagram" data-i18n-placeholder="instagram_placeholder" placeholder="@usuario"
                    autocomplete="off" required>
            </div>
            <button class="btn btn-primary" id="btnFetchProfile" data-i18n="continue_button">
                Continuar
            </button>
        </div>

        <!-- Step 2: Profile Confirmation -->
        <div class="step" id="step2">
            <div class="profile-card" id="profileCard"></div>
            <button class="btn btn-primary" id="btnConfirmProfile" data-i18n="confirm_button">Sim, sou eu!</button>
            <button class="btn btn-secondary" id="btnNotMe" data-i18n="not_me_button">N√£o √© minha conta</button>
        </div>

        <!-- Step 3: Contact Information -->
        <div class="step" id="step3">
            <div class="input-group">
                <label for="email" data-i18n="email_label">Email</label>
                <input type="email" id="email" placeholder="nome@email.com" required>
            </div>

            <div class="or-divider" data-i18n="or_divider">E / OU</div>

            <div class="input-group">
                <label for="phone" data-i18n="phone_label">Telefone (opcional)</label>
                <div class="phone-input-wrapper">
                    <input type="tel" id="phone" placeholder="Telefone">
                </div>
            </div>

            <button class="btn btn-primary" id="btnSubmit" data-i18n="submit_button">Ganhar Seguidores</button>
        </div>

        <!-- Step 4: Success Message -->
        <div class="step" id="step4">
            <div class="success-message">
                <div class="success-icon">
                    <svg viewBox="0 0 24 24">
                        <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z" />
                    </svg>
                </div>
                <h2 class="success-title" data-i18n="success_title">Sucesso!</h2>
                <p class="success-text" data-i18n="success_message">
                    Sua solicita√ß√£o foi enviada com sucesso!<br>
                    Voc√™ receber√° seus seguidores em breve.
                </p>
                <button class="btn-new-request" id="btnNewRequest" data-i18n="new_request_button">
                    Solicitar para outro usu√°rio
                </button>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script src="https://cdn.jsdelivr.net/npm/intl-tel-input@23.0.4/build/js/intlTelInput.min.js"></script>
    <script>
        let profileData = null;
        let iti = null;

        // Multi-language support
        const translations = {
            'ar': {
                page_title: 'Sintgram - ŸÖÿ™ÿßÿ®ÿπŸàŸÜ ŸÖÿ¨ÿßŸÜŸäŸàŸÜ ÿπŸÑŸâ Instagram',
                logo_subtitle: 'ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ŸÖÿ™ÿßÿ®ÿπŸäŸÜ ŸÖÿ¨ÿßŸÜŸäŸäŸÜ ÿπŸÑŸâ Instagram',
                instagram_label: 'ÿ≠ÿ≥ÿßÿ® Instagram ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ @',
                instagram_placeholder: '@ÿßÿ≥ŸÖ_ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ',
                continue_button: 'ŸÖÿ™ÿßÿ®ÿπÿ©',
                loading: 'ÿ¨ÿßÿ±Ÿä ÿßŸÑÿ™ÿ≠ŸÖŸäŸÑ',
                confirm_button: 'ŸÜÿπŸÖÿå Ÿáÿ∞ÿß ÿ£ŸÜÿß!',
                not_me_button: 'ŸÑŸäÿ≥ ÿ≠ÿ≥ÿßÿ®Ÿä',
                email_label: 'ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä',
                email_placeholder: 'name@email.com',
                or_divider: 'Ÿà / ÿ£Ÿà',
                phone_label: 'ÿßŸÑŸáÿßÿ™ŸÅ (ÿßÿÆÿ™Ÿäÿßÿ±Ÿä)',
                phone_placeholder: 'ÿßŸÑŸáÿßÿ™ŸÅ',
                submit_button: 'ÿßÿ≠ÿµŸÑ ÿπŸÑŸâ ŸÖÿ™ÿßÿ®ÿπŸäŸÜ',
                processing: 'ÿ¨ÿßÿ±Ÿä ÿßŸÑŸÖÿπÿßŸÑÿ¨ÿ©',
                success_title: 'ŸÜÿ¨ÿ≠!',
                success_message: 'ÿ™ŸÖ ÿ•ÿ±ÿ≥ÿßŸÑ ÿ∑ŸÑÿ®ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠!<br>ÿ≥ÿ™ÿ≠ÿµŸÑ ÿπŸÑŸâ ŸÖÿ™ÿßÿ®ÿπŸäŸÉ ŸÇÿ±Ÿäÿ®Ÿãÿß.',
                new_request_button: 'ÿ∑ŸÑÿ® ŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ¢ÿÆÿ±',
                back_title: 'ÿ±ÿ¨Ÿàÿπ',
                profile_pic: 'ÿßŸÑÿµŸàÿ±ÿ©',
                followers: 'ÿßŸÑŸÖÿ™ÿßÿ®ÿπŸàŸÜ',
                following: 'ÿßŸÑŸÖÿ™ÿßÿ®ŸéÿπŸàŸÜ',
                posts: 'ÿßŸÑŸÖŸÜÿ¥Ÿàÿ±ÿßÿ™',
                error_no_username: 'ÿßŸÑÿ±ÿ¨ÿßÿ° ÿ•ÿØÿÆÿßŸÑ ÿ≠ÿ≥ÿßÿ® Instagram ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ @',
                error_profile_not_found: 'ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä ÿ∫Ÿäÿ± ŸÖŸàÿ¨ŸàÿØ',
                error_load_profile: 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖŸÑŸÅ ÿßŸÑÿ¥ÿÆÿµŸä. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.',
                error_email_or_phone: 'ÿßŸÑÿ±ÿ¨ÿßÿ° ŸÖŸÑÿ° ÿ®ÿ±ŸäÿØŸÉ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿ£Ÿà Ÿáÿßÿ™ŸÅŸÉ',
                error_invalid_email: 'ÿ®ÿ±ŸäÿØ ÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠',
                error_invalid_phone: 'ÿ±ŸÇŸÖ Ÿáÿßÿ™ŸÅ ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠',
                error_submit: 'ÿÆÿ∑ÿ£ ŸÅŸä ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ∑ŸÑÿ®. ÿ≠ÿßŸàŸÑ ŸÖÿ±ÿ© ÿ£ÿÆÿ±Ÿâ.'
            },
            'bn': {
                page_title: 'Sintgram - ‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá Instagram ‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶∞',
                logo_subtitle: 'Instagram ‡¶è ‡¶¨‡¶ø‡¶®‡¶æ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡ßá ‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶æ‡¶®',
                instagram_label: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Instagram @',
                instagram_placeholder: '@‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞_‡¶®‡¶æ‡¶Æ',
                continue_button: '‡¶ö‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡ßá ‡¶Ø‡¶æ‡¶®',
                loading: '‡¶≤‡ßã‡¶° ‡¶π‡¶ö‡ßç‡¶õ‡ßá',
                confirm_button: '‡¶π‡ßç‡¶Ø‡¶æ‡¶Å, ‡¶è‡¶ü‡¶æ ‡¶Ü‡¶Æ‡¶ø!',
                not_me_button: '‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶®‡¶Ø‡¶º',
                email_label: '‡¶á‡¶Æ‡ßá‡¶á‡¶≤',
                email_placeholder: 'name@email.com',
                or_divider: '‡¶è‡¶¨‡¶Ç / ‡¶Ö‡¶•‡¶¨‡¶æ',
                phone_label: '‡¶´‡ßã‡¶® (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)',
                phone_placeholder: '‡¶´‡ßã‡¶®',
                submit_button: '‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶æ‡¶®',
                processing: '‡¶™‡ßç‡¶∞‡¶ï‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶ï‡¶∞‡¶£',
                success_title: '‡¶∏‡¶´‡¶≤!',
                success_message: '‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶∏‡¶´‡¶≤‡¶≠‡¶æ‡¶¨‡ßá ‡¶ú‡¶Æ‡¶æ ‡¶¶‡ßá‡¶ì‡¶Ø‡¶º‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!<br>‡¶Ü‡¶™‡¶®‡¶ø ‡¶∂‡ßÄ‡¶ò‡ßç‡¶∞‡¶á ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§',
                new_request_button: '‡¶Ö‡¶®‡ßç‡¶Ø ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡ßÅ‡¶®',
                back_title: '‡¶´‡¶ø‡¶∞‡ßá ‡¶Ø‡¶æ‡¶®',
                profile_pic: '‡¶´‡ßã‡¶ü‡ßã',
                followers: '‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶æ‡¶∞',
                following: '‡¶´‡¶≤‡ßã‡¶Ø‡¶º‡¶ø‡¶Ç',
                posts: '‡¶™‡ßã‡¶∏‡ßç‡¶ü',
                error_no_username: '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ Instagram @ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®',
                error_profile_not_found: '‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶Ø‡¶æ‡¶Ø‡¶º‡¶®‡¶ø',
                error_load_profile: '‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡¶§‡ßá ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§',
                error_email_or_phone: '‡¶Ö‡¶®‡ßÅ‡¶ó‡ßç‡¶∞‡¶π ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶á‡¶Æ‡ßá‡¶á‡¶≤ ‡¶¨‡¶æ ‡¶´‡ßã‡¶® ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®',
                error_invalid_email: '‡¶Ö‡¶¨‡ßà‡¶ß ‡¶á‡¶Æ‡ßá‡¶á‡¶≤',
                error_invalid_phone: '‡¶Ö‡¶¨‡ßà‡¶ß ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞',
                error_submit: '‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶§‡ßá ‡¶§‡ßç‡¶∞‡ßÅ‡¶ü‡¶ø‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ö‡ßá‡¶∑‡ßç‡¶ü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§'
            },
            'en': {
                page_title: 'Sintgram - Free Instagram Followers',
                logo_subtitle: 'Get free Instagram followers',
                instagram_label: 'Your Instagram @',
                instagram_placeholder: '@username',
                continue_button: 'Continue',
                loading: 'Loading',
                confirm_button: 'Yes, that\'s me!',
                not_me_button: 'Not my account',
                email_label: 'Email',
                email_placeholder: 'name@email.com',
                or_divider: 'AND / OR',
                phone_label: 'Phone (optional)',
                phone_placeholder: 'Phone',
                submit_button: 'Get Followers',
                processing: 'Processing',
                success_title: 'Success!',
                success_message: 'Your request has been submitted successfully!<br>You will receive your followers soon.',
                new_request_button: 'Request for another user',
                back_title: 'Back',
                profile_pic: 'Profile picture',
                followers: 'Followers',
                following: 'Following',
                posts: 'Posts',
                error_no_username: 'Please enter your Instagram @',
                error_profile_not_found: 'Profile not found',
                error_load_profile: 'Error loading profile. Please try again.',
                error_email_or_phone: 'Please fill in your email or phone',
                error_invalid_email: 'Invalid email',
                error_invalid_phone: 'Invalid phone number',
                error_submit: 'Error submitting request. Please try again.'
            },
            'es': {
                page_title: 'Sintgram - Seguidores Gratis Instagram',
                logo_subtitle: 'Consigue seguidores gratis en Instagram',
                instagram_label: 'Tu @ de Instagram',
                instagram_placeholder: '@usuario',
                continue_button: 'Continuar',
                loading: 'Cargando',
                confirm_button: '¬°S√≠, soy yo!',
                not_me_button: 'No es mi cuenta',
                email_label: 'Email',
                email_placeholder: 'nombre@email.com',
                or_divider: 'Y / O',
                phone_label: 'Tel√©fono (opcional)',
                phone_placeholder: 'Tel√©fono',
                submit_button: 'Conseguir Seguidores',
                processing: 'Procesando',
                success_title: '¬°√âxito!',
                success_message: '¬°Tu solicitud ha sido enviada con √©xito!<br>Recibir√°s tus seguidores pronto.',
                new_request_button: 'Solicitar para otro usuario',
                back_title: 'Volver',
                profile_pic: 'Foto',
                followers: 'Seguidores',
                following: 'Siguiendo',
                posts: 'Publicaciones',
                error_no_username: 'Por favor, ingresa tu @ de Instagram',
                error_profile_not_found: 'Perfil no encontrado',
                error_load_profile: 'Error al cargar perfil. Int√©ntalo de nuevo.',
                error_email_or_phone: 'Por favor, completa tu email o tel√©fono',
                error_invalid_email: 'Email inv√°lido',
                error_invalid_phone: 'N√∫mero de tel√©fono inv√°lido',
                error_submit: 'Error al enviar solicitud. Int√©ntalo de nuevo.'
            },
            'fr': {
                page_title: 'Sintgram - Abonn√©s Instagram Gratuits',
                logo_subtitle: 'Obtenez des abonn√©s Instagram gratuits',
                instagram_label: 'Votre @ Instagram',
                instagram_placeholder: '@utilisateur',
                continue_button: 'Continuer',
                loading: 'Chargement',
                confirm_button: 'Oui, c\'est moi!',
                not_me_button: 'Pas mon compte',
                email_label: 'Email',
                email_placeholder: 'nom@email.com',
                or_divider: 'ET / OU',
                phone_label: 'T√©l√©phone (optionnel)',
                phone_placeholder: 'T√©l√©phone',
                submit_button: 'Obtenir des Abonn√©s',
                processing: 'Traitement',
                success_title: 'Succ√®s!',
                success_message: 'Votre demande a √©t√© soumise avec succ√®s!<br>Vous recevrez vos abonn√©s bient√¥t.',
                new_request_button: 'Demander pour un autre utilisateur',
                back_title: 'Retour',
                profile_pic: 'Photo',
                followers: 'Abonn√©s',
                following: 'Abonnements',
                posts: 'Publications',
                error_no_username: 'Veuillez entrer votre @ Instagram',
                error_profile_not_found: 'Profil non trouv√©',
                error_load_profile: 'Erreur lors du chargement du profil. Veuillez r√©essayer.',
                error_email_or_phone: 'Veuillez remplir votre email ou t√©l√©phone',
                error_invalid_email: 'Email invalide',
                error_invalid_phone: 'Num√©ro de t√©l√©phone invalide',
                error_submit: 'Erreur lors de l\'envoi de la demande. Veuillez r√©essayer.'
            },
            'de': {
                page_title: 'Sintgram - Kostenlose Instagram-Follower',
                logo_subtitle: 'Erhalten Sie kostenlose Instagram-Follower',
                instagram_label: 'Ihr Instagram @',
                instagram_placeholder: '@benutzername',
                continue_button: 'Weiter',
                loading: 'Laden',
                confirm_button: 'Ja, das bin ich!',
                not_me_button: 'Nicht mein Konto',
                email_label: 'E-Mail',
                email_placeholder: 'name@email.com',
                or_divider: 'UND / ODER',
                phone_label: 'Telefon (optional)',
                phone_placeholder: 'Telefon',
                submit_button: 'Follower Erhalten',
                processing: 'Verarbeitung',
                success_title: 'Erfolg!',
                success_message: 'Ihre Anfrage wurde erfolgreich √ºbermittelt!<br>Sie erhalten bald Ihre Follower.',
                new_request_button: 'F√ºr einen anderen Benutzer anfordern',
                back_title: 'Zur√ºck',
                profile_pic: 'Foto',
                followers: 'Follower',
                following: 'Folge ich',
                posts: 'Beitr√§ge',
                error_no_username: 'Bitte geben Sie Ihr Instagram @ ein',
                error_profile_not_found: 'Profil nicht gefunden',
                error_load_profile: 'Fehler beim Laden des Profils. Bitte versuchen Sie es erneut.',
                error_email_or_phone: 'Bitte f√ºllen Sie Ihre E-Mail oder Telefonnummer aus',
                error_invalid_email: 'Ung√ºltige E-Mail',
                error_invalid_phone: 'Ung√ºltige Telefonnummer',
                error_submit: 'Fehler beim Senden der Anfrage. Bitte versuchen Sie es erneut.'
            },
            'hi': {
                page_title: 'Sintgram - ‡§Æ‡•Å‡§´‡•ç‡§§ Instagram ‡§´‡•â‡§≤‡•ã‡§Ö‡§∞‡•ç‡§∏',
                logo_subtitle: '‡§Æ‡•Å‡§´‡•ç‡§§ Instagram ‡§´‡•â‡§≤‡•ã‡§Ö‡§∞‡•ç‡§∏ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç',
                instagram_label: '‡§Ü‡§™‡§ï‡§æ Instagram @',
                instagram_placeholder: '@‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ_‡§®‡§æ‡§Æ',
                continue_button: '‡§ú‡§æ‡§∞‡•Ä ‡§∞‡§ñ‡•á‡§Ç',
                loading: '‡§≤‡•ã‡§° ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à',
                confirm_button: '‡§π‡§æ‡§Å, ‡§Ø‡§π ‡§Æ‡•à‡§Ç ‡§π‡•Ç‡§Å!',
                not_me_button: '‡§Æ‡•á‡§∞‡§æ ‡§ñ‡§æ‡§§‡§æ ‡§®‡§π‡•Ä‡§Ç',
                email_label: '‡§à‡§Æ‡•á‡§≤',
                email_placeholder: 'name@email.com',
                or_divider: '‡§î‡§∞ / ‡§Ø‡§æ',
                phone_label: '‡§´‡•ã‡§® (‡§µ‡•à‡§ï‡§≤‡•ç‡§™‡§ø‡§ï)',
                phone_placeholder: '‡§´‡•ã‡§®',
                submit_button: '‡§´‡•â‡§≤‡•ã‡§Ö‡§∞‡•ç‡§∏ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç',
                processing: '‡§™‡•ç‡§∞‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£',
                success_title: '‡§∏‡§´‡§≤‡§§‡§æ!',
                success_message: '‡§Ü‡§™‡§ï‡§æ ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∏‡§´‡§≤‡§§‡§æ‡§™‡•Ç‡§∞‡•ç‡§µ‡§ï ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!<br>‡§Ü‡§™‡§ï‡•ã ‡§ú‡§≤‡•ç‡§¶ ‡§π‡•Ä ‡§Ö‡§™‡§®‡•á ‡§´‡•â‡§≤‡•ã‡§Ö‡§∞‡•ç‡§∏ ‡§Æ‡§ø‡§≤‡•á‡§Ç‡§ó‡•á‡•§',
                new_request_button: '‡§¶‡•Ç‡§∏‡§∞‡•á ‡§â‡§™‡§Ø‡•ã‡§ó‡§ï‡§∞‡•ç‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§ï‡§∞‡•á‡§Ç',
                back_title: '‡§µ‡§æ‡§™‡§∏',
                profile_pic: '‡§´‡•ã‡§ü‡•ã',
                followers: '‡§´‡•â‡§≤‡•ã‡§Ö‡§∞‡•ç‡§∏',
                following: '‡§´‡•â‡§≤‡•ã‡§á‡§Ç‡§ó',
                posts: '‡§™‡•ã‡§∏‡•ç‡§ü',
                error_no_username: '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ Instagram @ ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç',
                error_profile_not_found: '‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡•Ä',
                error_load_profile: '‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§',
                error_email_or_phone: '‡§ï‡•É‡§™‡§Ø‡§æ ‡§Ö‡§™‡§®‡§æ ‡§à‡§Æ‡•á‡§≤ ‡§Ø‡§æ ‡§´‡•ã‡§® ‡§≠‡§∞‡•á‡§Ç',
                error_invalid_email: '‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§à‡§Æ‡•á‡§≤',
                error_invalid_phone: '‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§´‡•ã‡§® ‡§®‡§Ç‡§¨‡§∞',
                error_submit: '‡§Ö‡§®‡•Å‡§∞‡•ã‡§ß ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§§‡•ç‡§∞‡•Å‡§ü‡§ø‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç‡•§'
            },
            'pt': {
                page_title: 'Sintgram - Seguidores Gr√°tis Instagram',
                logo_subtitle: 'Ganhe seguidores gr√°tis no Instagram',
                instagram_label: 'O teu @ do Instagram',
                instagram_placeholder: '@utilizador',
                continue_button: 'Continuar',
                loading: 'A carregar',
                confirm_button: 'Sim, sou eu!',
                not_me_button: 'N√£o √© a minha conta',
                email_label: 'Email',
                email_placeholder: 'nome@email.com',
                or_divider: 'E / OU',
                phone_label: 'Telefone (opcional)',
                phone_placeholder: 'Telefone',
                submit_button: 'Ganhar Seguidores',
                processing: 'A processar',
                success_title: 'Sucesso!',
                success_message: 'O teu pedido foi enviado com sucesso!<br>Receber√°s os teus seguidores em breve.',
                new_request_button: 'Solicitar para outro utilizador',
                back_title: 'Voltar',
                profile_pic: 'Foto',
                followers: 'Seguidores',
                following: 'A seguir',
                posts: 'Publica√ß√µes',
                error_no_username: 'Por favor, insere o teu @ do Instagram',
                error_profile_not_found: 'Perfil n√£o encontrado',
                error_load_profile: 'Erro ao carregar perfil. Tenta novamente.',
                error_email_or_phone: 'Por favor, preenche o teu email ou telefone',
                error_invalid_email: 'Email inv√°lido',
                error_invalid_phone: 'N√∫mero de telefone inv√°lido',
                error_submit: 'Erro ao enviar pedido. Tenta novamente.'
            },
            'ru': {
                page_title: 'Sintgram - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏ Instagram',
                logo_subtitle: '–ü–æ–ª—É—á–∏—Ç–µ –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ Instagram',
                instagram_label: '–í–∞—à Instagram @',
                instagram_placeholder: '@–∏–º—è_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
                continue_button: '–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å',
                loading: '–ó–∞–≥—Ä—É–∑–∫–∞',
                confirm_button: '–î–∞, —ç—Ç–æ —è!',
                not_me_button: '–ù–µ –º–æ–π –∞–∫–∫–∞—É–Ω—Ç',
                email_label: '–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞',
                email_placeholder: 'name@email.com',
                or_divider: '–ò / –ò–õ–ò',
                phone_label: '–¢–µ–ª–µ—Ñ–æ–Ω (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)',
                phone_placeholder: '–¢–µ–ª–µ—Ñ–æ–Ω',
                submit_button: '–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤',
                processing: '–û–±—Ä–∞–±–æ—Ç–∫–∞',
                success_title: '–£—Å–ø–µ—Ö!',
                success_message: '–í–∞—à –∑–∞–ø—Ä–æ—Å —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!<br>–í—ã —Å–∫–æ—Ä–æ –ø–æ–ª—É—á–∏—Ç–µ —Å–≤–æ–∏—Ö –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤.',
                new_request_button: '–ó–∞–ø—Ä–æ—Å–∏—Ç—å –¥–ª—è –¥—Ä—É–≥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
                back_title: '–ù–∞–∑–∞–¥',
                profile_pic: '–§–æ—Ç–æ',
                followers: '–ü–æ–¥–ø–∏—Å—á–∏–∫–∏',
                following: '–ü–æ–¥–ø–∏—Å–∫–∏',
                posts: '–ü—É–±–ª–∏–∫–∞—Ü–∏–∏',
                error_no_username: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à Instagram @',
                error_profile_not_found: '–ü—Ä–æ—Ñ–∏–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω',
                error_load_profile: '–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.',
                error_email_or_phone: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤–∞—à—É —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É –∏–ª–∏ —Ç–µ–ª–µ—Ñ–æ–Ω',
                error_invalid_email: '–ù–µ–≤–µ—Ä–Ω–∞—è —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞',
                error_invalid_phone: '–ù–µ–≤–µ—Ä–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞',
                error_submit: '–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.'
            },
            'zh': {
                page_title: 'Sintgram - ÂÖçË¥πInstagramÁ≤â‰∏ù',
                logo_subtitle: 'Ëé∑ÂèñÂÖçË¥πInstagramÁ≤â‰∏ù',
                instagram_label: 'ÊÇ®ÁöÑInstagram @',
                instagram_placeholder: '@Áî®Êà∑Âêç',
                continue_button: 'ÁªßÁª≠',
                loading: 'Âä†ËΩΩ‰∏≠',
                confirm_button: 'ÊòØÁöÑÔºåÊòØÊàëÔºÅ',
                not_me_button: '‰∏çÊòØÊàëÁöÑË¥¶Êà∑',
                email_label: 'ÁîµÂ≠êÈÇÆ‰ª∂',
                email_placeholder: 'name@email.com',
                or_divider: 'Âíå / Êàñ',
                phone_label: 'ÁîµËØùÔºàÂèØÈÄâÔºâ',
                phone_placeholder: 'ÁîµËØù',
                submit_button: 'Ëé∑ÂèñÁ≤â‰∏ù',
                processing: 'Â§ÑÁêÜ‰∏≠',
                success_title: 'ÊàêÂäüÔºÅ',
                success_message: 'ÊÇ®ÁöÑËØ∑Ê±ÇÂ∑≤ÊàêÂäüÊèê‰∫§ÔºÅ<br>ÊÇ®Â∞ÜÂæàÂø´Êî∂Âà∞Á≤â‰∏ù„ÄÇ',
                new_request_button: '‰∏∫Âè¶‰∏Ä‰∏™Áî®Êà∑ËØ∑Ê±Ç',
                back_title: 'ËøîÂõû',
                profile_pic: 'Â§¥ÂÉè',
                followers: 'Á≤â‰∏ù',
                following: 'ÂÖ≥Ê≥®',
                posts: 'Â∏ñÂ≠ê',
                error_no_username: 'ËØ∑ËæìÂÖ•ÊÇ®ÁöÑInstagram @',
                error_profile_not_found: 'Êú™ÊâæÂà∞‰∏™‰∫∫ËµÑÊñô',
                error_load_profile: 'Âä†ËΩΩ‰∏™‰∫∫ËµÑÊñôÊó∂Âá∫Èîô„ÄÇËØ∑ÈáçËØï„ÄÇ',
                error_email_or_phone: 'ËØ∑Â°´ÂÜôÊÇ®ÁöÑÁîµÂ≠êÈÇÆ‰ª∂ÊàñÁîµËØù',
                error_invalid_email: 'Êó†ÊïàÁöÑÁîµÂ≠êÈÇÆ‰ª∂',
                error_invalid_phone: 'Êó†ÊïàÁöÑÁîµËØùÂè∑Á†Å',
                error_submit: 'Êèê‰∫§ËØ∑Ê±ÇÊó∂Âá∫Èîô„ÄÇËØ∑ÈáçËØï„ÄÇ'
            }
        };

        // Detect user language
        let currentLang = 'pt'; // Default to Portuguese
        const browserLang = navigator.language || navigator.userLanguage;

        // Map browser language to supported languages
        if (browserLang.startsWith('ar')) {
            currentLang = 'ar';
        } else if (browserLang.startsWith('bn')) {
            currentLang = 'bn';
        } else if (browserLang.startsWith('en')) {
            currentLang = 'en';
        } else if (browserLang.startsWith('es')) {
            currentLang = 'es';
        } else if (browserLang.startsWith('fr')) {
            currentLang = 'fr';
        } else if (browserLang.startsWith('de')) {
            currentLang = 'de';
        } else if (browserLang.startsWith('hi')) {
            currentLang = 'hi';
        } else if (browserLang.startsWith('pt')) {
            currentLang = 'pt';
        } else if (browserLang.startsWith('ru')) {
            currentLang = 'ru';
        } else if (browserLang.startsWith('zh')) {
            currentLang = 'zh';
        }

        // Get translation
        function t(key) {
            return translations[currentLang][key] || translations['pt'][key] || key;
        }

        // Apply translations to the page
        function applyTranslations() {
            document.documentElement.lang = currentLang;
            document.title = t('page_title');

            // Update all elements with data-i18n attribute
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                const translation = t(key);

                if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
                    el.placeholder = translation;
                } else if (key.includes('message')) {
                    el.innerHTML = translation;
                } else {
                    el.textContent = translation;
                }
            });

            // Update elements with data-i18n-title attribute
            document.querySelectorAll('[data-i18n-title]').forEach(el => {
                const key = el.getAttribute('data-i18n-title');
                el.title = t(key);
            });

            // Update elements with data-i18n-placeholder attribute
            document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
                const key = el.getAttribute('data-i18n-placeholder');
                el.placeholder = t(key);
            });

            // Update elements with data-i18n-alt attribute
            document.querySelectorAll('[data-i18n-alt]').forEach(el => {
                const key = el.getAttribute('data-i18n-alt');
                el.alt = t(key);
            });

            // Update static text elements
            document.querySelector('.logo p').textContent = t('logo_subtitle');
            document.getElementById('email').placeholder = t('email_placeholder');
            document.getElementById('phone').placeholder = t('phone_placeholder');
        }

        // Initialize
        const API_BASE = 'http://localhost:3001/api';

        // Apply translations on load
        applyTranslations();

        // Set language selector to current language
        document.getElementById('languageSelect').value = currentLang;

        // Language selector change handler
        document.getElementById('languageSelect').addEventListener('change', (e) => {
            currentLang = e.target.value;
            applyTranslations();
        });

        // Initialize intl-tel-input
        const phoneInput = document.getElementById('phone');
        iti = window.intlTelInput(phoneInput, {
            initialCountry: "auto",
            geoIpLookup: (success, failure) => {
                fetch("http://ip-api.com/json/")
                    .then((res) => res.json())
                    .then((data) => success(data.countryCode))
                    .catch(() => failure());
            },
            autoPlaceholder: "aggressive",
            strictMode: true,
            preferredCountries: ["br", "us", "pt", "es"],
            separateDialCode: true,
            utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@23.0.4/build/js/utils.js"
        });

        // Toast notification
        function showToast(message, isSuccess = false) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast show' + (isSuccess ? ' success' : '');
            setTimeout(() => toast.classList.remove('show'), 4000);
        }

        // Step navigation
        let currentStep = 1;

        function goToStep(stepNumber) {
            currentStep = stepNumber;
            document.querySelectorAll('.step').forEach(step => step.classList.remove('active'));
            document.getElementById(`step${stepNumber}`).classList.add('active');

            // Show/hide back button
            const backBtn = document.getElementById('backBtn');
            if (stepNumber > 1 && stepNumber < 4) {
                backBtn.classList.add('show');
            } else {
                backBtn.classList.remove('show');
            }
        }

        // Back button handler
        document.getElementById('backBtn').addEventListener('click', () => {
            if (currentStep > 1) {
                goToStep(currentStep - 1);
            }
        });

        // Format number with K/M
        function formatNumber(num) {
            if (num >= 1000000) return (num / 1000000).toFixed(1) + 'M';
            if (num >= 1000) return (num / 1000).toFixed(1) + 'K';
            return num.toString();
        }

        // Step 1: Fetch Profile
        document.getElementById('btnFetchProfile').addEventListener('click', async () => {
            const username = document.getElementById('instagram').value.trim().replace('@', '');

            if (!username) {
                showToast(t('error_no_username'));
                return;
            }

            const btn = document.getElementById('btnFetchProfile');
            btn.disabled = true;
            btn.innerHTML = t('loading') + '<span class="loading"></span>';

            try {
                const response = await fetch(`${API_BASE}/profile/${username}`);
                const result = await response.json();

                if (!result.success) {
                    showToast(result.message || t('error_profile_not_found'));
                    btn.disabled = false;
                    btn.textContent = t('continue_button');
                    return;
                }

                profileData = result.data;

                // Display profile
                const verifiedBadge = profileData.is_verified
                    ? '<svg class="verified-badge" viewBox="0 0 40 40" fill="none"><path d="M19.9 0.3C17.9 0.3 16.3 1.9 16.3 3.9V6.5C16.3 7.3 15.7 7.9 14.9 7.9H12.3C10.3 7.9 8.7 9.5 8.7 11.5V14.1C8.7 14.9 8.1 15.5 7.3 15.5H4.7C2.7 15.5 1.1 17.1 1.1 19.1V20.9C1.1 22.9 2.7 24.5 4.7 24.5H7.3C8.1 24.5 8.7 25.1 8.7 25.9V28.5C8.7 30.5 10.3 32.1 12.3 32.1H14.9C15.7 32.1 16.3 32.7 16.3 33.5V36.1C16.3 38.1 17.9 39.7 19.9 39.7H21.7C23.7 39.7 25.3 38.1 25.3 36.1V33.5C25.3 32.7 25.9 32.1 26.7 32.1H29.3C31.3 32.1 32.9 30.5 32.9 28.5V25.9C32.9 25.1 33.5 24.5 34.3 24.5H36.9C38.9 24.5 40.5 22.9 40.5 20.9V19.1C40.5 17.1 38.9 15.5 36.9 15.5H34.3C33.5 15.5 32.9 14.9 32.9 14.1V11.5C32.9 9.5 31.3 7.9 29.3 7.9H26.7C25.9 7.9 25.3 7.3 25.3 6.5V3.9C25.3 1.9 23.7 0.3 21.7 0.3H19.9Z" fill="#1DA1F2"/><path d="M17.5 26.3L12.2 21L14.3 18.9L17.5 22.1L27.2 12.4L29.3 14.5L17.5 26.3Z" fill="white"/></svg>'
                    : '';

                document.getElementById('profileCard').innerHTML = `
                    <img src="${profileData.profile_pic_url}" alt="Profile" class="profile-pic" data-i18n-alt="profile_pic">
                    <div class="profile-name">
                        ${profileData.full_name || profileData.username}
                        ${verifiedBadge}
                    </div>
                    <div class="profile-username">@${profileData.username}</div>
                    <div class="profile-stats">
                        <div class="stat">
                            <div class="stat-value">${formatNumber(profileData.follower_count)}</div>
                            <div class="stat-label">${t('followers')}</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${formatNumber(profileData.following_count)}</div>
                            <div class="stat-label">${t('following')}</div>
                        </div>
                        <div class="stat">
                            <div class="stat-value">${formatNumber(profileData.media_count)}</div>
                            <div class="stat-label">${t('posts')}</div>
                        </div>
                    </div>
                `;

                goToStep(2);
            } catch (error) {
                showToast(t('error_load_profile'));
                console.error(error);
            } finally {
                btn.disabled = false;
                btn.textContent = t('continue_button');
            }
        });

        // Step 2: Confirm Profile
        document.getElementById('btnConfirmProfile').addEventListener('click', () => {
            goToStep(3);
        });

        document.getElementById('btnNotMe').addEventListener('click', () => {
            goToStep(1);
            document.getElementById('instagram').value = '';
            document.getElementById('instagram').focus();
        });

        // Step 3: Submit Lead
        document.getElementById('btnSubmit').addEventListener('click', async () => {
            const email = document.getElementById('email').value.trim();
            const phoneValue = phoneInput.value.trim();

            if (!email && !phoneValue) {
                showToast(t('error_email_or_phone'));
                return;
            }

            if (email && !email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
                showToast(t('error_invalid_email'));
                return;
            }

            // Validate phone if provided
            if (phoneValue && !iti.isValidNumber()) {
                showToast(t('error_invalid_phone'));
                return;
            }

            const btn = document.getElementById('btnSubmit');
            btn.disabled = true;
            btn.innerHTML = t('processing') + '<span class="loading"></span>';

            const leadData = {
                username: profileData.username,
                name: profileData.full_name,
                email: email || null,
                phone: phoneValue ? iti.getNumber() : null, // Gets full international format
                followers: profileData.follower_count,
                language: currentLang
            };

            try {
                const response = await fetch(`${API_BASE}/leads`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(leadData)
                });

                const result = await response.json();

                if (result.success) {
                    // Show success step instead of toast and reset
                    goToStep(4);
                } else {
                    showToast(result.message || t('error_submit'));
                }
            } catch (error) {
                showToast(t('error_submit'));
                console.error(error);
            } finally {
                btn.disabled = false;
                btn.textContent = t('submit_button');
            }
        });

        // New Request Button Handler
        document.getElementById('btnNewRequest').addEventListener('click', () => {
            // Reset all form fields
            document.getElementById('instagram').value = '';
            document.getElementById('email').value = '';
            document.getElementById('phone').value = '';
            profileData = null;

            // Go back to step 1
            goToStep(1);

            // Focus on Instagram input
            document.getElementById('instagram').focus();
        });

        // Allow Enter key to submit
        document.getElementById('instagram').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') document.getElementById('btnFetchProfile').click();
        });

        document.getElementById('email').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') document.getElementById('btnSubmit').click();
        });

        document.getElementById('phone').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') document.getElementById('btnSubmit').click();
        });
    </script>
</body>

</html>